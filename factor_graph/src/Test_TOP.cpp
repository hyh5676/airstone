#include"TOP.h"

int main(){
    //top();
    float x[NUM][16]={
        { 0.0015538751420118109, -0.012371196846626296, -0.021934942788346068, 0.9966659293273626, 0.0071354330256405895, 0.0031740773323449697, 0.08121598455137684,0,0,0,0,0,0,0,0,0 }, //x0
        { 0.9942291441636206, 0.0014400180140446475, -0.016386657299338872, 0.6993991000136472, 0.6988120690374974, 0.005197288881336193, 0.14991857541984663,1,0,0,0,0,0,0,0,0 }, //x1
        { 1.9884447063171276, -9.524916098165559E-5, -0.006898105376317095, -0.006666991536011644, 0.9916414942116513, 0.0011341943622686776, -0.13192194289997902,1,0,0,0,0,0,0,0,0 },//x2
        { 3.0088396989023467, 0.0018025769398704679, 0.005508545220574701, -0.7001703572388805, 0.718706086600356, 0.004758605872783426, -0.08245976232243517,1,0,0,0,0,0,0,0,0 },//x3        
        };
    float ee[NUM-1][7]={
        { -1.0140493344567698, -0.010341215395697101, -0.0029157028877080573, 0.30077698538311604, -0.7126669609753931, 0.013826211594803522, -0.6335991190578457 },//e1
        { -1.008084388031677, -0.0021304169841700046, -0.008796771642334889, 0.6866112374858595, -0.30223932448688934, -0.00266917446595828, -0.6612180236499272 },//e2
        { -1.004254853556253, 0.013147235034868837, 0.004164112196994339, 0.6947531217521465, 0.2934358420554633, -0.005824232774479692, -0.6566426613657057 },//e3    
    };
    float prior[7]={ -2.2608484309598147E-4, 4.7869410220205893E-4, -0.01701334654274959, -0.9949028828723258, 2.8549601443212068E-5, -0.009198670798063954, -0.1004173157020462 };//e0;
    float ee_IMU[NUM-1][10]= {
        {-0.899392288918095, -0.0650907736597753, 0.0257056157433969, 0.198562219359578, -0.839178852139256, 0.0924825933493706, 0.497794002668387, 1.00000498490753, -0.00549189146094067, 0.0911127265653860, },
        {-0.880789812946873, -0.161183038867781, -0.00244619366359185, 0.512115282310110, -0.190950198554735, 0.0861716302393419, 0.832976836075433, 1.00011620834835, -0.00708372131604802, -0.248628392070328, },
        {-0.914226745479465, -0.0691159125382991, 0.0449377623166851, 0.717063335031508, 0.375606999846992, 0.0536157079925919, 0.584692150687767, 1.08978884259851, -0.0131937867924581, -0.0147201456151267, }
    };;
    float delta_t=0.01;

    float result[NUM][7];
    int iter;
    float res;
    int algorithm;

    top(x,ee,ee_IMU,delta_t,prior,result,iter,res,algorithm);
}